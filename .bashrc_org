############  Cogito  #############
export HGREPO42=ssh://hg@10.0.1.42
export COGITO_NAS=nas01.cogitohealth.net

export PATH=$PATH:$HOME/tools/arcanist/bin

if [ "Darwin" = "$(uname -s)" ]; then
   export JAVA_HOME=$(/usr/libexec/java_home)
else
   export JAVA_HOME=/usr/java/latest
fi



alias mod='modula'
alias modb='modula build'
alias modx='modula modules exec'
alias modm='modula modules'

#mount nas01 drives
function nasmount
{
   if (( $# == 1 )); then
       sudo mount -t cifs //${COGITO_NAS}/${1} ~/mnt/${1} -o username=`id -un`,uid=`id -un`,gid=`id -gn`;
   elif (( $# == 2 )); then
       sudo mount -t cifs //${COGITO_NAS}/${1} ~/mnt/${1} -o username=${2},uid=`id -un`,gid=`id -gn`;
   fi
}

#modula operations
alias modx-br='modula modules exec "hg branch"'
alias modx-cl='modula modules exec "rm -rf BUILD/"'
alias modx-st='modula modules exec "hg status"'
alias modx-dif='modula  modules exec "hg diff" exec.mode=ignore'
alias modx-out='modula  modules exec "hg out" exec.mode=ignore'
alias modx-sum='modula  modules exec "hg sum"'
alias modx-pull='modula  modules exec "hg pull" exec.mode=ignore'
alias modx-up='modula  modules exec "hg up" exec.mode=ignore'

alias modg1='modula modules | egrep -v "\s{5}"'
alias modg2='modula modules | egrep -v "\s{9}"'
alias modg3='modula modules | egrep -v "\s{13-"'

#Source Control overrides
alias dif='hg diff'
alias ss='hg stat'
alias sl='hg log'

hg_branchdiff() {
#todo error check and usage message
SRC=eval `hg branch`
DEST="EnterpriseSuite_1_5_0"
hg diff -r "branch ('$SRC') - branch ('$DEST')"
}
alias branchdiff=hg_branchdiff

